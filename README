# This is an experimental build system for media drivers.
# All files on this tree are covered by GPLv2, as stated at COPYING file.

# This tree is for compiling updatelee's modules for use with his updateDVB.

# Usage:

git clone https://bitbucket.org/dark-sky/media_build_udl
cd media_build_udl
./build --main-git --depth 1
sudo make install
sudo cp media/include/uapi/linux/dvb/*.h /usr/include/linux/dvb/
cd media/firmware
sudo make install
sudo reboot

# If you're developing a new driver or patch use the same compile 
# procedure as above.

# In this case, in order to modify something, you should edit the file at
# the media/ subdir.

For example, a typical procedure to develop a new patch would be:

	~/media_build $ cd media
	~/media $ gedit drivers/media/video/foo.c
	~/media $ make -C ../v4l
	~/media $ make -C .. rmmod
	~/media $ modprobe foo
	(some procedure to test the "foo" driver)
	~/media $ git diff >/tmp/my_changes.patch
	(email /tmp/my_changes.patch inlined to linux-media@vger.kernel.org)

Some other notes that may be useful:
To clean the tree in order to start over:
       make -C linux distclean
To create a new todaytar of the latest media drivers:
       make -C linux todaytar DIR=/path/to/full_media_tree

